# Design: 移除右侧固定截图的UI/UX优化决策

## Context
当前的Web界面设计存在以下问题：
- 同时提供两种截图展示方式（右侧固定 + 悬浮窗）
- 右侧固定截图占用380px宽度侧边栏的重要空间
- 功能重复导致用户困惑
- 侧边栏其他功能（设备信息、任务历史、支持应用）展示空间受限

### 现有设计分析
1. **右侧固定截图**（将要移除）
   - 位置：侧边栏中部
   - 尺寸：最大高度300px
   - 交互：静态展示，无法拖动或调整
   - 问题：固定占用空间，无法充分利用

2. **悬浮窗截图**（保留并优化）
   - 位置：可自由拖动
   - 尺寸：可调整大小，支持最小化/最大化
   - 交互：拖拽、缩放、置顶显示
   - 优势：灵活性高，不影响主界面布局

## Goals / Non-Goals
- **Goals**:
  - 简化界面布局，减少视觉噪音
  - 为重要功能提供更多展示空间
  - 统一截图展示方式，提升一致性
  - 改善移动设备和小屏幕的体验

- **Non-Goals**:
  - 不改变悬浮窗的核心功能
  - 不影响截图数据的获取和更新逻辑
  - 不改变整体界面的色彩和主题设计

## Decisions

### Decision 1: 完全移除右侧固定截图面板
**理由**：
- 悬浮窗已提供更好的用户体验（拖拽、缩放、置顶）
- 避免功能重复，降低认知负担
- 释放侧边栏空间给更重要的功能

**替代方案考虑**：
- 折叠式面板：仍然占用空间，交互复杂
- 选项卡切换：增加了操作步骤，不直观
- 缩小尺寸：影响截图查看效果

### Decision 2: 优化侧边栏空间分配
**理由**：
- 设备信息和任务历史需要更多垂直空间
- 支持应用列表可以展示更多条目
- 提升整体布局的平衡感

**实现方式**：
- 移除`screenshot-panel`后，其他面板自动扩展
- 调整内边距和间距，保持视觉和谐

### Decision 3: 保留并增强截图切换按钮
**理由**：
- 保持用户习惯，继续使用Ctrl+S快捷键
- 按钮图标切换（眼晴图标）提供清晰的视觉反馈
- 仅控制悬浮窗，功能更加聚焦

### Decision 4: 保持响应式设计
**考虑因素**：
- 小屏幕设备更需要空间优化
- 确保移动设备上的良好体验
- 维持断点处的一致表现

## Risks / Trade-offs

| 风险 | 影响 | 缓解措施 |
|------|------|----------|
| 用户习惯改变 | 中等 | 保留切换按钮，提供平滑过渡 |
| 初次使用找不到截图 | 低 | 优化首次使用提示，高亮悬浮窗功能 |
| 悬浮窗可能被遮挡 | 低 | 增强置顶功能，添加找回按钮 |

### Trade-offs
- **空间 vs. 可见性**：牺牲截图的固定可见性换取更大的灵活性和空间利用率
- **简洁 vs. 冗余**：选择简洁的设计，避免提供多种实现相同功能的方式

## Migration Plan

### 阶段1：代码移除
1. 删除HTML中的截图面板结构
2. 清理CSS中的相关样式定义
3. 移除JavaScript中的固定截图更新逻辑

### 阶段2：布局调整
1. 优化侧边栏各面板的间距
2. 调整内容区域的滚动行为
3. 确保响应式断点正常工作

### 阶段3：用户体验优化
1. 默认显示悬浮窗的提示
2. 优化切换按钮的视觉反馈
3. 添加键盘快捷键提示

### 回滚计划
如需回滚：
- 保留原始HTML结构在注释中
- 维护CSS样式的版本控制
- 记录所有修改的具体位置

## Open Questions
- 是否需要在移除初期显示一次性的引导提示？
- 悬浮窗的默认位置是否需要优化？
- 是否为高级用户提供配置选项（通过localStorage）？

## Accessibility Considerations
- 确保截图切换按钮有适当的ARIA标签
- 维持键盘导航的完整性
- 提供截图功能的屏幕阅读器支持
- 确保颜色对比度符合WCAG标准