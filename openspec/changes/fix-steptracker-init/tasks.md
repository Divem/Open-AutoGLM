## 1. 分析和诊断问题

- [x] 1.1 确认错误信息和根本原因
  - [x] 1.1.1 分析 "StepTracker.init() missing 1 required positional argument: 'task_id'" 错误
  - [x] 1.1.2 定位到 phone_agent/agent.py 中的初始化问题
  - [x] 1.1.3 确认 StepTracker 构造函数需要 task_id 参数

- [x] 1.2 检查相关方法调用
  - [x] 1.2.1 查找 start_task() 方法是否存在
  - [x] 1.2.2 确认方法不存在的事实
  - [x] 1.2.3 分析调用链和生命周期问题

## 2. 修复 StepTracker 初始化问题

- [ ] 2.1 移除 PhoneAgent.__init__ 中的 StepTracker 初始化
  - [ ] 2.1.1 移除第 160-163 行的 StepTracker 初始化代码
  - [ ] 2.1.2 保留 STEP_TRACKER_AVAILABLE 检查逻辑
  - [ ] 2.1.3 确保 step_tracker 属性初始为 None

- [ ] 2.2 在 run 方法中正确初始化 StepTracker
  - [ ] 2.2.1 在 task_id 生成后（第 179 行后）初始化 StepTracker
  - [ ] 2.2.2 传递正确的 task_id 参数
  - [ ] 2.2.3 添加错误处理确保初始化失败不影响执行

- [ ] 2.3 移除不存在的方法调用
  - [ ] 2.3.1 移除 step_tracker.start_task() 调用
  - [ ] 2.3.2 保留任务开始时的日志输出
  - [ ] 2.3.3 确保步骤追踪功能正常启用

## 3. 验证和测试

- [ ] 3.1 验证任务执行不再报错
  - [ ] 3.1.1 执行一个简单任务，确认没有初始化错误
  - [ ] 3.1.2 检查步骤追踪功能是否正常工作
  - [ ] 3.1.3 验证数据库保存功能正常

- [ ] 3.2 测试边缘情况
  - [ ] 3.2.1 测试 STEP_TRACKER_AVAILABLE 为 False 的情况
  - [ ] 3.2.2 测试 step_tracker 初始化失败的情况
  - [ ] 3.2.3 确保任务执行不受影响

- [ ] 3.3 验证现有功能不受影响
  - [ ] 3.3.1 确认脚本录制功能正常
  - [ ] 3.3.2 确认 Web 界面正常显示
  - [ ] 3.3.3 确认实时更新功能正常

## 4. 文档和代码质量

- [ ] 4.1 更新注释
  - [ ] 4.1.1 添加 StepTracker 初始化时机的注释
  - [ ] 4.1.2 说明为什么要延迟初始化
  - [ ] 4.1.3 添加错误处理说明

- [ ] 4.2 代码审查
  - [ ] 4.2.1 检查代码风格符合项目规范
  - [ ] 4.2.2 验证错误处理完整性
  - [ ] 4.2.3 确认没有引入新的问题